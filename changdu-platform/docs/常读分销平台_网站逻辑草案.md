# 常读分销平台 - 网站逻辑草案

## 1. 项目概述 (Project Overview)
**目标**：打造一个连接内容提供方（CP）、流量分销商（渠道）与终端用户的综合性服务平台。
**核心价值**：
- **上游（CP）**：提供网文/短剧内容变现渠道。
- **中游（分销商）**：提供优质内容库、推广工具及高额分佣。
- **下游（用户）**：提供便捷的多端阅读/观看体验（快应用、H5、微信小程序、抖音小程序）。

## 2. 用户角色 (User Roles)

| 角色 | 描述 | 核心权限 |
| :--- | :--- | :--- |
| **平台管理员 (Admin)** | 平台运营方 | 全局配置、内容审核、财务结算、数据总览、封禁账号 |
| **内容提供方 (CP)** | 网文/短剧版权方 | 内容上传、作品管理、授权管理、收益查看 |
| **分销商 (Distributor)** | 流量主/推广员 | 选书/剧、生成推广链接、查看推广数据、提现佣金 |
| **终端用户 (User)** | C端读者/观众 | 浏览内容、充值/付费、收藏/历史记录 |

## 3. 核心功能模块 (Core Functional Modules)

### 3.1 内容中心 (Content Center)
*面向CP及管理员*
- **作品管理**：
    - **入库/上传**：支持批量上传小说章节（TXT/Word）或短剧剧集（MP4）。
    - **元数据编辑**：标题、封面、简介、标签（如：都市、悬疑、言情）、完结状态。
    - **定价策略**：设置免费章节数、付费点（如第10章开始付费）、VIP价格、整本价格。
- **内容审核**：
    - 自动检测（敏感词过滤）+ 人工复审机制。
    - 审核状态流转：草稿 -> 待审核 -> 已驳回 -> 已上架 -> 已下架。

### 3.2 分销中心 (Distribution Center)
*面向分销商*
- **选品广场**：
    - 展示热门、高转化、高分成的作品列表。
    - 筛选维度：今日榜单、飙升榜、新书榜。
- **推广工具**：
    - **推广链接生成**：支持生成专属渠道链接（H5、小程序码、快应用Deeplink）。
    - **落地页配置**：自定义推广文案、封面图、强制关注配置（公众号）。
    - **PID管理**：为不同广告位生成唯一PID，便于精细化追踪效果。
- **广告回传 (Ad Postback)**：
    - 对接主流投放平台（巨量引擎、腾讯广告、百度等），支持API回传转化数据（激活、注册、付费）。

### 3.3 订单与支付系统 (Order & Payment)
*面向终端用户*
- **充值体系**：
    - 书币/看点充值（如：1元=100书币）。
    - VIP会员订阅（周卡/月卡/年卡）。
- **支付网关**：
    - 集成微信支付、支付宝、抖音支付等。
- **解锁机制**：
    - 单章购买、批量购买、整本购买。
    - 自动解锁开关。

### 3.4 数据中心 (Data Center)
*全角色可见（权限不同）*
- **实时看板**：今日充值、新增用户、DAU、订单数。
- **转化漏斗**：点击 -> 授权 -> 阅读 -> 充值 -> 复购。
- **内容报表**：单书/单剧的ROI（投入产出比）、留存率、跟读率。
- **渠道报表**：各分销商/PID的推广效果分析。

### 3.5 结算中心 (Settlement Center)
*面向CP及分销商*
- **分润规则**：
    - 配置分成比例（如：平台10%、CP 20%、分销商70%）。
    - 扣量设置（可选，用于平台风控）。
- **账单管理**：日/周/月账单生成与核对。
- **提现系统**：
    - 提现申请、审核、打款（支持企业付款到零钱或银行卡）。
    - 税务处理（代扣个税或专票上传）。

### 3.6 开放平台 (Open API)
- **内容API**：允许第三方分销商拉取书籍列表、章节内容。
- **订单API**：同步第三方产生的订单信息。
- **鉴权接口**：OAuth2.0 授权登录。

## 4. 关键业务流程 (Key Business Flows)

### 4.1 内容入驻流程 (Content Ingestion)
1.  **CP注册认证**：提交企业资质（营业执照、版权证明）。
2.  **创建作品**：CP后台新建作品，上传内容素材。
3.  **平台审核**：管理员审核内容合规性及版权链。
4.  **上架分发**：审核通过后，作品进入“分销广场”，状态变为“可推广”。

### 4.2 推广与投放流程 (Promotion Flow)
1.  **分销商选品**：在广场选择高转化率的作品（如《霸道总裁爱上我》）。
2.  **获取素材**：下载官方提供的推广文案、视频切片。
3.  **配置链接**：设置推广落地页（通常是精彩章节+阅读原文引导）。
4.  **外部投放**：将链接投放到朋友圈、公众号、抖音、快手等平台。
5.  **用户触达**：用户点击广告 -> 唤起小程序/快应用/H5 -> 开始阅读。

### 4.3 用户消费流程 (User Consumption)
1.  **免费阅读**：用户阅读前N章（免费部分），系统记录阅读进度。
2.  **付费阻断**：阅读到付费点，弹出充值引导页（利用“钩子”剧情）。
3.  **完成支付**：用户选择充值档位 -> 调起支付 -> 支付成功 -> 账户增加书币。
4.  **自动解锁**：系统扣除书币，展示后续章节内容。

### 4.4 结算流程 (Settlement Flow)
1.  **订单归因**：系统根据用户来源（PID）识别所属分销商和CP。
2.  **即时分账**（或T+1）：根据预设比例计算各方应得金额，计入虚拟钱包。
3.  **提现申请**：分销商/CP发起提现。
4.  **财务打款**：平台审核无误后进行打款。

## 5. 技术架构考量 (Technical Considerations)
- **多端适配**：核心采用 Uniapp 或 Flutter 开发，一套代码适配 微信小程序、抖音小程序、H5、快应用。
- **高并发处理**：针对热门短剧/小说推广时的流量洪峰，需配置 Redis 缓存层（缓存章节内容、用户信息）。
- **防盗刷/防刷量**：建立风控模型，识别异常IP和模拟器刷单行为。
- **数据安全**：内容加密存储，防止爬虫批量抓取付费章节。
